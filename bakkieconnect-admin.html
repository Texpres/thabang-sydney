<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BakkieConnect Admin</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'UberMove', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        body {
            background-color: #f8f9fa;
            color: #333;
            line-height: 1.6;
        }
        
        .admin-container {
            max-width: 1000px;
            margin: 0 auto;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            background: white;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
        }
        
        .admin-header {
            background: #000;
            color: white;
            padding: 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            z-index: 10;
        }
        
        .admin-logo {
            font-size: 24px;
            font-weight: bold;
        }
        
        .admin-logo span {
            color: #00cc66;
        }
        
        .admin-nav {
            display: flex;
            gap: 20px;
        }
        
        .admin-nav button {
            background: none;
            border: none;
            color: white;
            font-size: 16px;
            cursor: pointer;
            padding: 8px 16px;
            border-radius: 20px;
            transition: background 0.2s;
        }
        
        .admin-nav button:hover, .admin-nav button.active {
            background: #00cc66;
        }
        
        .admin-main {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
        }
        
        .admin-stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
            margin-bottom: 20px;
        }
        
        .admin-stat-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
            text-align: center;
        }
        
        .admin-stat-value {
            font-size: 28px;
            font-weight: bold;
            color: #00cc66;
            margin: 8px 0;
        }
        
        .admin-stat-label {
            color: #666;
            font-size: 14px;
        }
        
        .admin-section {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
            margin-bottom: 20px;
        }
        
        .admin-section h3 {
            margin-bottom: 16px;
            font-size: 20px;
            color: #333;
            border-bottom: 2px solid #00cc66;
            padding-bottom: 8px;
        }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .data-table th, .data-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }
        
        .data-table th {
            background: #f8f9fa;
            font-weight: bold;
        }
        
        .data-table tr:hover {
            background: #f8f9fa;
        }
        
        .status-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .status-active {
            background: #e8f5e9;
            color: #2e7d32;
        }
        
        .status-pending {
            background: #fff4e5;
            color: #ff9500;
        }
        
        .status-inactive {
            background: #ffebee;
            color: #d32f2f;
        }
        
        .profit-calculation {
            background: #f9f9f9;
            padding: 16px;
            border-radius: 8px;
            margin-top: 16px;
        }
        
        .profit-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }
        
        .profit-total {
            font-weight: bold;
            border-top: 1px solid #ddd;
            padding-top: 8px;
            margin-top: 8px;
        }
        
        .security-badge {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #00cc66;
            font-weight: bold;
            margin-top: 16px;
            justify-content: center;
        }
        
        .chart-container {
            height: 300px;
            background: #f8f9fa;
            border-radius: 8px;
            margin: 20px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
        }
        
        .admin-login {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            padding: 20px;
            background: #f8f9fa;
        }
        
        .login-form {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 400px;
        }
        
        .login-title {
            text-align: center;
            margin-bottom: 24px;
            font-size: 24px;
            font-weight: bold;
            color: #333;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        .form-group input {
            width: 100%;
            padding: 14px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
        }
        
        .login-button {
            width: 100%;
            padding: 16px;
            border-radius: 8px;
            border: none;
            background: #00cc66;
            color: white;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .login-button:hover {
            background: #00b359;
        }
        
        .logout-button {
            background: #ff5722;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div id="admin-root"></div>
    
    <script type="text/babel">
        const { useState, useEffect } = React;

        function AdminApp() {
            const [activeSection, setActiveSection] = useState('overview');
            const [isLoggedIn, setIsLoggedIn] = useState(false);
            const [adminPassword, setAdminPassword] = useState('');
            
            // Sample data
            const [adminData, setAdminData] = useState({
                totalEarnings: 12450,
                totalDeliveries: 287,
                activeDrivers: 24,
                pendingApplications: 8,
                recentDeliveries: [
                    { id: 1, customer: "John Doe", driver: "Thomas Mbeki", amount: 120, status: "completed", date: "2023-06-15" },
                    { id: 2, customer: "Sarah Smith", driver: "James Johnson", amount: 85, status: "completed", date: "2023-06-15" },
                    { id: 3, customer: "Mike Wilson", driver: "Robert Brown", amount: 150, status: "in-progress", date: "2023-06-15" },
                    { id: 4, customer: "Emily Davis", driver: "Mary Williams", amount: 95, status: "pending", date: "2023-06-14" },
                    { id: 5, customer: "David Miller", driver: "Jennifer Jones", amount: 110, status: "completed", date: "2023-06-14" }
                ],
                driverApplications: [
                    { id: 1, name: "Peter Parker", email: "peter@example.com", status: "pending", applicationDate: "2023-06-15" },
                    { id: 2, name: "Bruce Wayne", email: "bruce@example.com", status: "pending", applicationDate: "2023-06-14" },
                    { id: 3, name: "Clark Kent", email: "clark@example.com", status: "approved", applicationDate: "2023-06-13" },
                    { id: 4, name: "Diana Prince", email: "diana@example.com", status: "rejected", applicationDate: "2023-06-12" },
                    { id: 5, name: "Tony Stark", email: "tony@example.com", status: "pending", applicationDate: "2023-06-11" }
                ]
            });
            
            // Handle admin login
            const handleAdminLogin = (e) => {
                e.preventDefault();
                // Simple password check (in a real app, use secure authentication)
                if (adminPassword === 'admin123') {
                    setIsLoggedIn(true);
                    setAdminPassword('');
                } else {
                    alert('Incorrect admin password');
                    setAdminPassword('');
                }
            };
            
            // Handle admin logout
            const handleAdminLogout = () => {
                setIsLoggedIn(false);
                setActiveSection('overview');
            };
            
            const getStatusBadge = (status) => {
                switch(status) {
                    case 'pending':
                        return <span className="status-badge status-pending">Pending</span>;
                    case 'in-progress':
                        return <span className="status-badge status-active">In Progress</span>;
                    case 'completed':
                        return <span className="status-badge status-active">Completed</span>;
                    case 'approved':
                        return <span className="status-badge status-active">Approved</span>;
                    case 'rejected':
                        return <span className="status-badge status-inactive">Rejected</span>;
                    default:
                        return <span className="status-badge status-pending">Pending</span>;
                }
            };
            
            // Show login screen if not authenticated
            if (!isLoggedIn) {
                return (
                    <div className="admin-login">
                        <div className="login-form">
                            <h2 className="login-title">BakkieConnect Admin</h2>
                            <p style={{textAlign: 'center', marginBottom: '20px', color: '#666'}}>
                                Enter admin password to access the dashboard
                            </p>
                            
                            <form onSubmit={handleAdminLogin}>
                                <div className="form-group">
                                    <label>Admin Password</label>
                                    <input
                                        type="password"
                                        value={adminPassword}
                                        onChange={(e) => setAdminPassword(e.target.value)}
                                        required
                                    />
                                </div>
                                
                                <button type="submit" className="login-button">
                                    Login to Admin Dashboard
                                </button>
                            </form>
                            
                            <div className="security-badge">
                                <i className="fas fa-shield-alt"></i>
                                <span>Secure Admin Access</span>
                            </div>
                        </div>
                    </div>
                );
            }
            
            // Show admin dashboard if authenticated
            return (
                <div className="admin-container">
                    <header className="admin-header">
                        <div className="admin-logo">Bakkie<span>Connect</span> Admin</div>
                        <div className="admin-nav">
                            <button 
                                className={activeSection === 'overview' ? 'active' : ''}
                                onClick={() => setActiveSection('overview')}
                            >
                                Overview
                            </button>
                            <button 
                                className={activeSection === 'deliveries' ? 'active' : ''}
                                onClick={() => setActiveSection('deliveries')}
                            >
                                Deliveries
                            </button>
                            <button 
                                className={activeSection === 'drivers' ? 'active' : ''}
                                onClick={() => setActiveSection('drivers')}
                            >
                                Drivers
                            </button>
                            <button 
                                className={activeSection === 'earnings' ? 'active' : ''}
                                onClick={() => setActiveSection('earnings')}
                            >
                                Earnings
                            </button>
                        </div>
                        <button onClick={handleAdminLogout} className="logout-button">
                            <i className="fas fa-sign-out-alt"></i> Logout
                        </button>
                    </header>
                    
                    <main className="admin-main">
                        {/* Overview Section */}
                        {activeSection === 'overview' && (
                            <>
                                <div className="admin-stats">
                                    <div className="admin-stat-card">
                                        <div className="admin-stat-value">R{adminData.totalEarnings}</div>
                                        <div className="admin-stat-label">Total Earnings</div>
                                    </div>
                                    
                                    <div className="admin-stat-card">
                                        <div className="admin-stat-value">{adminData.totalDeliveries}</div>
                                        <div className="admin-stat-label">Total Deliveries</div>
                                    </div>
                                    
                                    <div className="admin-stat-card">
                                        <div className="admin-stat-value">{adminData.activeDrivers}</div>
                                        <div className="admin-stat-label">Active Drivers</div>
                                    </div>
                                    
                                    <div className="admin-stat-card">
                                        <div className="admin-stat-value">{adminData.pendingApplications}</div>
                                        <div className="admin-stat-label">Pending Applications</div>
                                    </div>
                                </div>
                                
                                <div className="admin-section">
                                    <h3>Recent Deliveries</h3>
                                    <div className="chart-container">
                                        <i className="fas fa-chart-bar" style={{fontSize: '48px', marginRight: '16px'}}></i>
                                        <span>Delivery performance charts would appear here</span>
                                    </div>
                                    
                                    <table className="data-table">
                                        <thead>
                                            <tr>
                                                <th>ID</th>
                                                <th>Customer</th>
                                                <th>Driver</th>
                                                <th>Amount</th>
                                                <th>Status</th>
                                                <th>Date</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {adminData.recentDeliveries.map(delivery => (
                                                <tr key={delivery.id}>
                                                    <td>#{delivery.id}</td>
                                                    <td>{delivery.customer}</td>
                                                    <td>{delivery.driver}</td>
                                                    <td>R{delivery.amount}</td>
                                                    <td>{getStatusBadge(delivery.status)}</td>
                                                    <td>{delivery.date}</td>
                                                </tr>
                                            ))}
                                        </tbody>
                                    </table>
                                </div>
                                
                                <div className="admin-section">
                                    <h3>Driver Applications</h3>
                                    <table className="data-table">
                                        <thead>
                                            <tr>
                                                <th>ID</th>
                                                <th>Name</th>
                                                <th>Email</th>
                                                <th>Status</th>
                                                <th>Application Date</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            {adminData.driverApplications.map(application => (
                                                <tr key={application.id}>
                                                    <td>#{application.id}</td>
                                                    <td>{application.name}</td>
                                                    <td>{application.email}</td>
                                                    <td>{getStatusBadge(application.status)}</td>
                                                    <td>{application.applicationDate}</td>
                                                </tr>
                                            ))}
                                        </tbody>
                                    </table>
                                </div>
                            </>
                        )}
                        
                        {/* Deliveries Section */}
                        {activeSection === 'deliveries' && (
                            <div className="admin-section">
                                <h3>All Deliveries</h3>
                                <div className="chart-container">
                                    <i className="fas fa-chart-line" style={{fontSize: '48px', marginRight: '16px'}}></i>
                                    <span>Delivery trends and analytics would appear here</span>
                                </div>
                                
                                <table className="data-table">
                                    <thead>
                                        <tr>
                                            <th>ID</th>
                                            <th>Customer</th>
                                            <th>Driver</th>
                                            <th>Amount</th>
                                            <th>Status</th>
                                            <th>Date</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {adminData.recentDeliveries.map(delivery => (
                                            <tr key={delivery.id}>
                                                <td>#{delivery.id}</td>
                                                <td>{delivery.customer}</td>
                                                <td>{delivery.driver}</td>
                                                <td>R{delivery.amount}</td>
                                                <td>{getStatusBadge(delivery.status)}</td>
                                                <td>{delivery.date}</td>
                                            </tr>
                                        ))}
                                    </tbody>
                                </table>
                            </div>
                        )}
                        
                        {/* Drivers Section */}
                        {activeSection === 'drivers' && (
                            <div className="admin-section">
                                <h3>Driver Management</h3>
                                <div className="chart-container">
                                    <i className="fas fa-users" style={{fontSize: '48px', marginRight: '16px'}}></i>
                                    <span>Driver performance metrics would appear here</span>
                                </div>
                                
                                <table className="data-table">
                                    <thead>
                                        <tr>
                                            <th>ID</th>
                                            <th>Name</th>
                                            <th>Email</th>
                                            <th>Status</th>
                                            <th>Application Date</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {adminData.driverApplications.map(application => (
                                            <tr key={application.id}>
                                                <td>#{application.id}</td>
                                                <td>{application.name}</td>
                                                <td>{application.email}</td>
                                                <td>{getStatusBadge(application.status)}</td>
                                                <td>{application.applicationDate}</td>
                                                <td>
                                                    <button style={{marginRight: '8px', background: '#00cc66', color: 'white', border: 'none', padding: '6px 12px', borderRadius: '4px'}}>
                                                        Approve
                                                    </button>
                                                    <button style={{background: '#ff5722', color: 'white', border: 'none', padding: '6px 12px', borderRadius: '4px'}}>
                                                        Reject
                                                    </button>
                                                </td>
                                            </tr>
                                        ))}
                                    </tbody>
                                </table>
                            </div>
                        )}
                        
                        {/* Earnings Section */}
                        {activeSection === 'earnings' && (
                            <div className="admin-section">
                                <h3>Earnings Report</h3>
                                <div className="chart-container">
                                    <i className="fas fa-money-bill-wave" style={{fontSize: '48px', marginRight: '16px'}}></i>
                                    <span>Revenue charts and financial reports would appear here</span>
                                </div>
                                
                                <div className="profit-calculation">
                                    <h4>Earnings Calculation</h4>
                                    <div className="profit-row">
                                        <div>Total Delivery Revenue:</div>
                                        <div>R{(adminData.totalEarnings / 0.6).toFixed(2)}</div>
                                    </div>
                                    <div className="profit-row">
                                        <div>Platform Fee (60%):</div>
                                        <div>R{adminData.totalEarnings}</div>
                                    </div>
                                    <div className="profit-row">
                                        <div>Driver Earnings (40%):</div>
                                        <div>R{(adminData.totalEarnings / 0.6 * 0.4).toFixed(2)}</div>
                                    </div>
                                    <div className="profit-row profit-total">
                                        <div>Your Profit (60%):</div>
                                        <div>R{adminData.totalEarnings}</div>
                                    </div>
                                </div>
                                
                                <div className="security-badge">
                                    <i className="fas fa-lock"></i>
                                    <span>Secure Financial Data - All Transactions Encrypted</span>
                                </div>
                            </div>
                        )}
                    </main>
                </div>
            );
        }

        const adminRoot = ReactDOM.createRoot(document.getElementById('admin-root'));
        adminRoot.render(<AdminApp />);
    </script>
</body>
</html>